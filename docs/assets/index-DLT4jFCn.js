(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))c(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&c(l)}).observe(document,{childList:!0,subtree:!0});function i(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function c(n){if(n.ep)return;n.ep=!0;const r=i(n);fetch(n.href,r)}})();const g="f4cf630ad5da60d93c24ed78932800cb",I=document.getElementById("body");let p,y,m,a,x,w,f,v,b,s;const u=["row","bg-warning","my-border","d-flex","justify-content-center","align-items-center","text-center","align-middle","fs-4","fw-bold"],h=["row","bg-white","my-sub-border","d-flex","justify-content-center","align-items-center","text-center","align-middle","my-text"];function E(){console.log("Initializing."),j(),y.addEventListener("click",O),P()}function P(){navigator.geolocation&&navigator.geolocation.getCurrentPosition($)}function $(t){W(t.coords.latitude,t.coords.longitude)}function o(t,e,i,c){let n=document.createElement(t);if(e&&(n.id=e),i.length>0)for(let r=0;r<i.length;r++)n.classList.add(i[r]);return c.appendChild(n),n}function j(){let t=o("div","app",["container","col-12","col-md-6","bg-white","vh-100"],I);p=t,t=o("div","",["row"],p);let e=t;t=o("h1","",[],e),t.textContent="Weather App",t=o("div","",["row","input-field"],p),e=t,t=o("div","",["col","d-flex","align-items-center","justify-content-end"],e);let i=t;t=o("label","",[],i),t.for="zip-input",t.innerHTML="ZIP:&nbsp;",t=o("input","zip-input",["zip-input"],i),t.type="text",m=t,t=o("div","",["col","d-flex","align-items-center","justify-content-start"],e),i=t,t=o("button","weather-button",["btn","btn-primary"],i),t.type="button",t.textContent="Get Weather",y=t,t=o("div","",["row","d-flex","flex-column","weather-wrapper"],p),e=t,t=o("div","weather-box",["container","d-flex","flex-fill","justify-content-start","flex-column","weather-box"],e),a=t}function C(){d(a);let t=o("div","",["d-flex","justify-content-center","my-auto"],a),e=t;t=o("div","",["spinner-border"],e),t.role="status",e=t,t=o("span","",["visually-hidden"],e),t.textContent="Loading..."}function z(){d(a);let t=o("div","",["row"],a),e=t;t=o("div","",["container","display-box"],e),e=t,t=o("div","",u,e),t.textContent="City",t=o("div","city-box",h,e),x=t,t=o("div","",["row"],a),e=t,t=o("div","",["container","display-box"],e),e=t,t=o("div","",u,e),t.textContent="Temperature",t=o("div","",["row","bg-white","my-sub-border"],e),e=t;const i=["col-4","d-flex","justify-content-center","align-items-center","text-center","align-middle","my-text"];t=o("div","k-box",i,e),w=t,t=o("div","c-box",i,e),f=t,f.classList.add("border-center"),t=o("div","f-box",i,e),v=t,t=o("div","",["row"],a),e=t,t=o("div","",["container","display-box"],e),e=t,t=o("div","",u,e),t.textContent="Condition",t=o("div","condition-box",h,e),t.classList.add("text-capitalize"),b=t,L()}function L(){let t=o("div","",["row"],a),e=t;t=o("div","",["container","display-box"],e),e=t,t=o("div","",u,e),t.textContent="Other Info",t=o("div","icon-box",h,e),s=t}async function B(t,e,i){const c=await A(t,e);z();const n=c.main.temp,r=c.weather[0].description,l=c.weather[0].icon;console.log("City: "+i),console.log("Temperature: "+n),console.log("Condition: "+r),console.log("Icon: "+l),x.textContent=i,M(n),b.textContent=r,_(l)}async function W(t,e){C();const c=(await T(t,e))[0].name;B(t,e,c)}async function O(){C();let t=m.value;console.log("ZIP Entered: "+t);const i=await Z(t,"US");if(i.cod){console.error("Bad ZIP code!"),d(a),L(),D("Bad ZIP code! Check what you've entered and try again!");return}const c=i.name,n=i.lat,r=i.lon;B(n,r,c)}function D(t){d(s),s.textContent=t}function d(t){Array.from(t.childNodes).forEach(i=>i.remove())}function _(t){d(s),s.textContent="";let e=document.createElement("img");e.classList.add("my-icon"),e.src=`https://openweathermap.org/img/wn/${t}@2x.png`,s.appendChild(e)}function M(t){console.log("Temperature: "+t);const e=Math.round(t-273.15),i=Math.round(9/5*(t-273)+32),c=Math.round(t);f.textContent=e+" C",v.textContent=i+" F",w.textContent=c+" K"}async function T(t,e){const c=`https://api.openweathermap.org/geo/1.0/reverse?lat=${t}&lon=${e}&limit=1&appid=${g}`;try{const r=await(await fetch(c)).json();return console.log("Raw city data: ",r),r}catch(n){console.log("Error: ",n)}}async function Z(t,e){const i=`https://api.openweathermap.org/geo/1.0/zip?zip=${t},${e}&appid=${g}`;try{const n=await(await fetch(i)).json();return console.log("Location data: ",n),n}catch(c){console.log("Error: ",c)}}async function A(t,e){const i=`https://api.openweathermap.org/data/2.5/weather?lat=${t}&lon=${e}&appid=${g}`;try{const n=await(await fetch(i)).json();return console.log("Weather data: ",n),n}catch(c){console.log("Error: ",c)}}E();
